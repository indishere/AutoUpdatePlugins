# How long to wait after the server finishes starting before running the first update (seconds)
startupDelay: 64

# After the first update finishes, repeat updates at this interval (seconds; requires restart to apply changes)
startupCycle: 14400  # 4 hours

# Directory used for plugin updates. Must match the path in bukkit.yml
# Make sure the path ends with "/"
updatePath: './plugins/update/'

# Download cache directory — usually no need to change this.
# New .jar files are downloaded here first. After verification, they are moved into the update directory.
tempPath: './plugins/AutoUpdatePlugins/temp/'

# Directory of plugins currently running on the server (used for hash checks)
filePath: './plugins/'

# Enable record of previous updates and use that information to check updates (temp.yml)
enablePreviousUpdate: true

# File integrity check, only works for .jar / .zip files.
# The file is tested by attempting to open it as a zip archive. If it fails, it is considered incomplete.
zipFileCheck: true

# If a file matches this regex, zip integrity check will be applied
zipFileCheckList: '\.(?:jar|zip)$'

# If the downloaded file’s MD5 hash matches an existing file in the update folder (or the running plugin),
# it will not be moved to the update directory.
ignoreDuplicates: true

# Whether to enable SSL certificate verification. Normally do NOT disable.
sslVerify: true

# Network proxy configuration
proxy:
  type: DIRECT  # DIRECT | HTTP | SOCKS
  host: '127.0.0.1'
  port: 7890

# Custom HTTP headers for network requests
setRequestProperty:
  - name: 'User-Agent'
    value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'

# Which log levels should be enabled
logLevel:
  - 'DEBUG'      # For debugging; disable after testing
  - 'MARK'       # Same as DEBUG but highlighted in green for marking tasks
  - 'INFO'       # Prints normal logs
  - 'WARN'       # Prints warnings
  - 'NET_WARN'   # Warnings from the network module

# Plugin update list
# URLs support automatic detection for:
# GitHub, Jenkins, SpigotMC, Modrinth, Bukkit, Guizhan Build Station v2, MineBBS, CurseForge.
# GitHub/Jenkins/Modrinth can use the "get" parameter to pick a specific file.
# GitHub links can also use "getPreRelease: true" to download pre-release versions.
list:

  - file: 'AutoUpdatePlugins-v2.6.7.jar'
    url: https://github.com/indishere/AutoUpdatePlugins/

### Example configuration — Pay attention to correct YAML formatting

# - file: 'EssentialsX.jar'      # GitHub
#   url: https://github.com/EssentialsX/Essentials
#   get: 'EssentialsX-([0-9.]+)\.jar'

# - file: 'EssentialsXChat.jar'  # Match different files in same release
#   url: https://github.com/EssentialsX/Essentials
#   get: 'EssentialsXChat-([0-9.]+)\.jar'

# - file: 'Geyser-Spigot.jar'    # Direct URL
#   url: https://download.geysermc.org/v2/projects/geyser/versions/latest/builds/latest/downloads/spigot

# - file: 'ViaVersion-DEV.jar'   # Jenkins
#   url: https://ci.viaversion.com/job/ViaVersion-DEV/

# - file: 'ViaBackwards-DEV.jar'
#   url: https://ci.viaversion.com/view/ViaBackwards/job/ViaBackwards-DEV/

# - file: 'CoreProtect.jar'      # Modrinth
#   url: https://modrinth.com/plugin/coreprotect/

# - file: 'UseTranslatedNames.jar'
#   url: https://modrinth.com/plugin/usetranslatednames

# - file: 'HttpRequests.jar'     # SpigotMC
#   url: https://www.spigotmc.org/resources/http-requests.101253/

# - file: 'Chunky.jar'           # MineBBS
#   url: https://www.minebbs.com/resources/chunky-tps.7318/

# - file: 'SF4_Slimefun4.jar'    # Guizhan Build Station v2
#   url: https://builds.guizhanss.com/StarWishsama/Slimefun4/master

# - file: 'SF4_FluffyMachines.jar'
#   url: https://builds.guizhanss.com/SlimefunGuguProject/FluffyMachines/master

# - file: 'Dynmap.jar'
#   url: https://legacy.curseforge.com/minecraft/bukkit-plugins/dynmap

# - file: './serverConfig.yml'   # If the file path includes directories, the plugin automatically sets the path parameter
#   url: 'http://[::]:5212/serverConfig.yml'


### All available configuration fields for "list" entries ###
# Unless you fully understand what you're doing, don’t modify these casually.

# String file;              # File name
# String url;               # Download link
# String tempPath;          # Temporary download path (defaults to global config)
# String updatePath;        # Where updates are stored (defaults to global)
# String filePath;          # Where the plugin installs the file (defaults to global)
# String path;              # Overrides both updatePath and filePath
# String get;               # Regex to select a specific file (GitHub/Jenkins/Modrinth only)
# boolean getPreRelease;    # Allow GitHub pre-release download (default false)
# boolean zipFileCheck;     # Enable zip integrity check
# boolean ignoreDuplicates; # Disable hash comparison


# Messages displayed by the plugin
message:
  updateCheckIntervalTooLow: '### Warning: Update interval is too low and may impact performance! ###'
  timer: 'Update check will run in %1 seconds and repeat every %2 seconds.'
  commandReloadOnUpdating: 'An update is currently running. Reload will occur afterward.'
  commandReloadOK: 'Configuration reloaded successfully.'
  commandRepeatedRunUpdate: 'An update is already in progress.'
  commandUpdateStart: 'Update started!'
  commandFullLog: 'Full log:'
  commandStopUpdateIng: 'Stopping current update...'
  stopUpdate: 'Update stopped.'
  repeatedRunUpdate: '### Update triggered twice or encountered an error. ###'
  updateStart: '[## Starting automatic update ##]'
  configErrList: 'Configuration error: update list may be invalid.'
  configErrUpdate: 'Configuration error: update list is empty.'
  configErrMissing: 'Configuration error: missing required fields.'
  updateChecking: 'Checking for updates...'
  updateErrParsingDUrl: 'Failed to parse download link. Skipping update.'
  updateTempAlreadyLatest: '[Cache] File is already the latest version.'
  updateErrDownload: 'Error downloading file. Skipping update.'
  updateZipFileCheck: '[Zip Integrity Check] File is incomplete. Skipping update.'
  updateFileAlreadyLatest: 'File is already up to date.'
  updateFulSizeDifference: 'Update completed [%1MB] -> [%2MB].'
  updateFul: '[## All updates completed ##]'
  updateFulTime: 'Time taken: %1 seconds.'
  updateFulFail: 'Failed: %1, '
  updateFulUpdate: 'Updated: %1, '
  updateFulOK: 'Successful: %1'
  updateFulNetRequest: 'Network requests: %1, '
  updateFulDownloadFile: 'Downloaded: %1MB'
  logReloadOK: 'Reload completed successfully.'
  debugGetVersion: 'Found version: %1'
  debugNoFileMatching: 'No matching file found: %1'
  debugNoRepositoryPath: 'Repository path not found: %1'
  debugErrUrlResolveNoID: 'URL parsing error: missing plugin ID? %1'
  debugErrUrlResolveNoName: 'URL parsing error: project name not found: %1'
  debugErrNoID: 'Project ID not found: %1'
  urlInvalid: 'URL is invalid or incorrectly formatted: %1'
